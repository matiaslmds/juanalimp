(window.webpackJsonp=window.webpackJsonp||[]).push([[137,149],{1040:function(t,e,n){"use strict";n.r(e);n(50),n(52),n(15),n(87),n(68),n(38),n(39);var o=n(295),r=n(290),c=!1,l={x:0,y:0},d=null,h={name:"SlidingPuzzle",components:{GridCaptcha:o.default},data:function(){return{gridSize:3,tiles:[],tilePositions:{},selectedTileIndex:null,solved:!1,slideSound:null,imageUrl:"/not-a-robot/sliding/sliding.webp",clickCount:0}},computed:{totalTiles:function(){return this.gridSize*this.gridSize},tileWidth:function(){return 100/this.gridSize}},created:function(){this.initializeTiles()},mounted:function(){this.shuffle(),this.slideSound=new r.Howl({src:["/not-a-robot/click.mp3"],volume:.2})},methods:{initializeTiles:function(){var t=this;this.tiles=Array.from({length:this.totalTiles},(function(e,i){return i<t.totalTiles-1?i+1:0})),this.tilePositions={},this.tiles.forEach((function(e,n){t.tilePositions[e]=n}))},getTileStyle:function(t){var e=Math.floor(t/this.gridSize),col=t%this.gridSize;return{top:"".concat(e*this.tileWidth,"%"),left:"".concat(col*this.tileWidth,"%"),width:"".concat(this.tileWidth,"%"),height:"".concat(this.tileWidth,"%"),opacity:0===this.tiles[t]?0:1,pointerEvents:0===this.tiles[t]?"none":"auto"}},getTileStyleByPosition:function(t,e){var n=Math.floor(t/this.gridSize),col=t%this.gridSize;return{top:"".concat(n*this.tileWidth,"%"),left:"".concat(col*this.tileWidth,"%"),width:"".concat(this.tileWidth,"%"),height:"".concat(this.tileWidth,"%"),opacity:0===e?0:1,pointerEvents:0===e?"none":"auto"}},getImageStyle:function(t){if(0===t)return{};var e=t-1,n=Math.floor(e/this.gridSize),col=e%this.gridSize,o=100*this.gridSize,r=100/(this.gridSize-1);return{backgroundImage:"url(".concat(this.imageUrl,")"),backgroundSize:"".concat(o,"%"),backgroundPosition:"".concat(col*r,"% ").concat(n*r,"%")}},findEmptyIndex:function(){return this.tiles.indexOf(0)},isAdjacent:function(t,e){var n=Math.floor(t/this.gridSize),o=t%this.gridSize,r=Math.floor(e/this.gridSize),c=e%this.gridSize;return 1===Math.abs(n-r)&&o===c||1===Math.abs(o-c)&&n===r},moveTile:function(t){var e=this.findEmptyIndex();if(this.isAdjacent(t,e)){var n=[this.tiles[e],this.tiles[t]];this.tiles[t]=n[0],this.tiles[e]=n[1];var o=this.tiles[t],r=this.tiles[e];return this.tilePositions[o]=t,this.tilePositions[r]=e,this.$forceUpdate(),this.slideSound.play(),this.slideSound.rate(.7+this.clickCount%4/4),!0}return!1},handleMouseDown:function(t){if(0!==this.tiles[t]){this.selectedTileIndex=t;var e=this.findEmptyIndex();this.isAdjacent(t,e)&&(this.moveTile(t),this.selectedTileIndex=null)}},handleMouseOver:function(t){if(null!==this.selectedTileIndex){var e=this.findEmptyIndex();t===e&&this.isAdjacent(this.selectedTileIndex,e)&&this.moveTile(this.selectedTileIndex)&&(this.selectedTileIndex=e)}},handleMouseUp:function(t){this.selectedTileIndex=null},shuffle:function(){this.initializeTiles(),this.solved=!1;for(var i=0;i<100;i++){for(var t=this.findEmptyIndex(),e=[],n=0;n<this.tiles.length;n++)this.isAdjacent(n,t)&&e.push(n);var o=e[Math.floor(Math.random()*e.length)],r=[this.tiles[t],this.tiles[o]];this.tiles[o]=r[0],this.tiles[t]=r[1];var c=this.tiles[o],l=this.tiles[t];this.tilePositions[c]=o,this.tilePositions[l]=t}},refresh:function(){this.shuffle()},verify:function(){var t=this,e=Array.from({length:this.totalTiles},(function(e,i){return i<t.totalTiles-1?i+1:0}));return JSON.stringify(this.tiles)===JSON.stringify(e)},handleTouchStart:function(t,e){e.preventDefault(),c=!0,d=t,l={x:e.touches[0].clientX,y:e.touches[0].clientY}},handleTouchMove:function(t){var e=this;if(c){var n=t.touches[0],o=n.clientX-l.x,r=n.clientY-l.y;if(!(Math.sqrt(Math.pow(o,2)+Math.pow(r,2))<10)){var h=Math.abs(o)>Math.abs(r)?o>0?"right":"left":r>0?"down":"up",f=this.findEmptyIndex(),v=function(t){e.moveTile(t),c=!1,d=null};("right"===h&&this.isAdjacent(d,d+1)&&f===d+1||"left"===h&&this.isAdjacent(d,d-1)&&f===d-1||"down"===h&&this.isAdjacent(d,d+this.gridSize)&&f===d+this.gridSize||"up"===h&&this.isAdjacent(d,d-this.gridSize)&&f===d-this.gridSize)&&v(d)}}},handleTouchEnd:function(t){c=!1,d=null}}},f=(n(1862),n(30)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("GridCaptcha",{attrs:{instruction:"Reassemble the",title:"Stop Sign",verify:t.verify},on:{completed:function(e){return t.$emit("completed")},refresh:t.refresh}},[e("div",{staticClass:"puzzle-container"},t._l(Object.keys(t.tilePositions).map((function(t){return parseInt(t)})),(function(n){return e("div",{key:"tile-".concat(n),staticClass:"puzzle-tile",class:{"empty-tile":0===n,selected:t.selectedTileIndex===t.tilePositions[n]},style:t.getTileStyleByPosition(t.tilePositions[n],n),on:{mousedown:function(e){return t.handleMouseDown(t.tilePositions[n])},mouseup:function(e){return t.handleMouseUp(t.tilePositions[n])},mouseover:function(e){return t.handleMouseOver(t.tilePositions[n])},touchstart:function(e){return t.handleTouchStart(t.tilePositions[n],e)},touchmove:function(e){return t.handleTouchMove(e)},touchend:function(e){return t.handleTouchEnd(e)}}},[0!==n?e("div",{staticClass:"tile-image",style:t.getImageStyle(n)}):t._e()])})),0)])}),[],!1,null,"388cb344",null);e.default=component.exports},1862:function(t,e,n){"use strict";n(976)},1863:function(t,e,n){var o=n(106)((function(i){return i[1]}));o.push([t.i,".captcha-container[data-v-388cb344]{border:1px solid #e2e2e2;display:block;margin-left:auto;margin-right:auto;margin-top:15px;max-width:450px;padding:7px}.captcha-header[data-v-388cb344]{background:#488ddd;color:#fff;font-size:18px;font-weight:700;margin-bottom:3px;padding:23px;text-align:center}.puzzle-container[data-v-388cb344]{aspect-ratio:1/1;background-color:#fff;position:relative;width:100%}.puzzle-tile[data-v-388cb344]{align-items:center;background-color:#fff;border:2px solid #fff;box-sizing:border-box;color:#fff;cursor:pointer;display:flex;font-size:1.5rem;font-weight:700;height:25%;justify-content:center;overflow:hidden;position:absolute;transition:top .2s cubic-bezier(.25,.46,.45,.94),left .2s cubic-bezier(.25,.46,.45,.94),opacity .2s cubic-bezier(.25,.46,.45,.94);-webkit-user-select:none;-moz-user-select:none;user-select:none;width:25%}.tile-image[data-v-388cb344]{background-repeat:no-repeat;background-size:400%;height:100%;width:100%}.puzzle-tile[data-v-388cb344]:hover{background-color:#3a80d2}.empty-tile[data-v-388cb344]{background-color:transparent;border:none}.puzzle-tile.selected[data-v-388cb344]{background-color:#fff;transform:scale(.95);z-index:10}",""]),o.locals={},t.exports=o},289:function(t,e,n){var content=n(298);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(107).default)("48acee25",content,!0,{sourceMap:!1})},291:function(t,e,n){"use strict";var o=n(290);e.a={click:new o.Howl({src:["/not-a-robot/click.mp3"]}),correct:new o.Howl({src:["/not-a-robot/correct.mp3"],volume:.3}),wrong:new o.Howl({src:["/not-a-robot/wrong.mp3"],volume:.3}),refresh:new o.Howl({src:["/not-a-robot/refresh.mp3"],volume:.3})}},295:function(t,e,n){"use strict";n.r(e);n(46);var o=n(291),r={components:{},props:{title:{type:String,required:!1,default:""},instruction:{type:String,required:!1,default:"Select all the squares with a"},disabled:{type:Boolean,required:!1,default:!1},containerClass:{type:String,required:!1,default:""},verify:{type:Function,required:!1,default:function(){return!1}},hideRefresh:{type:Boolean,required:!1,default:!1,sounds:[]}},data:function(){return{squares:[],correctSquares:[],refreshAnimation:!1,refreshTimeout:null,wrong:!1,sounds:o.a}},methods:{toggleSelection:function(t){this.squares[t].selected=!this.squares[t].selected,this.verificationResult=null},checkVerify:function(){var t=this,e=this.verify();"advance"!==e?e?(this.sounds.correct.play(),this.$emit("completed")):(this.wrong=!0,this.sounds.wrong.play(),setTimeout((function(){t.wrong=!1}),1e3)):this.sounds.correct.play()},refresh:function(){var t=this;this.refreshAnimation=!0,clearTimeout(this.refreshTimeout),this.sounds.refresh.play(),this.refreshTimeout=setTimeout((function(){t.refreshAnimation=!1}),500),this.$emit("refresh")}}},c=(n(297),n(30)),component=Object(c.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"captcha-container",class:[t.containerClass]},[e("div",{staticClass:"captcha-title"},[t._v("\n    "+t._s(t.instruction)+"\n    "),e("div",{staticClass:"captcha-title-type"},[t._v(t._s(t.title))])]),t._v(" "),e("div",{staticClass:"captcha-content-wrapper"},[t._t("default")],2),t._v(" "),e("div",{staticClass:"captcha-controls"},[t.hideRefresh?t._e():e("img",{staticClass:"captcha-refresh",class:{"captcha-refresh-animation":t.refreshAnimation},attrs:{src:"/not-a-robot/refresh.svg"},on:{click:t.refresh}}),t._v(" "),e("button",{staticClass:"verify-button",class:{"verify-button-wrong":t.wrong},attrs:{disabled:t.disabled,id:"captcha-verify-button"},on:{click:t.checkVerify}},[t._v("\n      Verify\n    ")])])])}),[],!1,null,"acd9c854",null);e.default=component.exports},297:function(t,e,n){"use strict";n(289)},298:function(t,e,n){var o=n(106)((function(i){return i[1]}));o.push([t.i,'.captcha-container[data-v-acd9c854]{border:1px solid #d3d3d3;border-radius:0;box-shadow:0 1px 3px 1px rgba(0,0,0,.06);font-family:"Roboto",sans-serif;font-weight:400;margin:30px auto 0;max-width:460px;padding:6px}.captcha-title[data-v-acd9c854]{background:#488ddd;color:#fff;font-size:16px;padding:16px}.captcha-title-type[data-v-acd9c854]{font-size:25px;font-weight:700;margin-top:1px}.captcha-grid[data-v-acd9c854]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:0;margin:5px 0;position:relative}.captcha-square[data-v-acd9c854]{aspect-ratio:1/1;border:1px solid #fff;cursor:pointer;height:100%;overflow:hidden;position:relative;width:100%;z-index:2}.captcha-content-wrapper[data-v-acd9c854]{margin-top:2px;position:relative}.verify-button[data-v-acd9c854]{background-color:#488ddd;border:none;color:#fff;cursor:pointer;display:block;font-size:17px;margin-left:auto;margin-top:3px;padding:10px 20px;transition:background-color .15s ease-in-out}.verify-button[data-v-acd9c854]:hover{background-color:#62a5f1}.verify-button[data-v-acd9c854]:active{transform:scale(.98)}.captcha-result[data-v-acd9c854]{font-size:16px;font-weight:700;margin-top:20px}.captcha-refresh[data-v-acd9c854]{cursor:pointer;height:24px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:24px;user-drag:none;-webkit-user-drag:none}.captcha-controls[data-v-acd9c854]{align-items:center;border-top:1px solid #d3d3d3;display:flex;justify-content:space-between;margin-top:5px;padding-left:8px;padding-top:4px}.captcha-refresh-animation[data-v-acd9c854]{animation:rotate-acd9c854 .5s ease-out forwards}.verify-button[data-v-acd9c854]:disabled{background-color:#d3d3d3;cursor:not-allowed}.single-image[data-v-acd9c854]{height:100%;left:0;position:absolute;top:0;width:100%}.verify-button-wrong[data-v-acd9c854]{animation:wrongShake-acd9c854 .25s ease-in-out 3;pointer-events:none;transform-origin:center center}@keyframes wrongShake-acd9c854{0%{transform:rotate(0deg)}25%{transform:rotate(6deg)}50%{transform:rotate(0deg)}75%{transform:rotate(-6deg)}}@keyframes rotate-acd9c854{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}',""]),o.locals={},t.exports=o},976:function(t,e,n){var content=n(1863);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(107).default)("7e101be3",content,!0,{sourceMap:!1})}}]);